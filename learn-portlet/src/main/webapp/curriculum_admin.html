
<div class="overflow-hidden">
    <div id="curriculumManagerAppRegion"></div>

    <input type="hidden" id="SCORMContextPath" value="{{contextPath}}"/>
</div>

<script type="text/javascript">

    jQueryValamis(function () {

        if (!valamisApp.started) {
            valamisApp.start();
        }

        /**
         * Mobile IE10 hack
         */
        if ("-ms-user-select" in document.documentElement.style && navigator.userAgent.match(/IEMobile\/10\.0/)) {
            var msViewportStyle = document.createElement("style");
            msViewportStyle.appendChild(
                    document.createTextNode("@-ms-viewport{width:auto!important}")
            );
            document.getElementsByTagName("head")[0].appendChild(msViewportStyle);
        }
        /** Mobile IE10 hack */

        var curriculumManagerPermissions = {
            'CurriculumManager': {
                MODIFY: eval("{{permissionToModify}}"),
                PUBLISH: eval("{{permissionToPublish}}")
            }
        };

        var curriculumManagerOptions = {
            resourceName: 'curriculum',
            permissions: curriculumManagerPermissions,
            app: curriculumManager,
            appOptions: {
                curriculumCompanyId: '{{companyID}}',
                rootUrl: '{{root}}',
                assignmentDeployed: eval('{{assignmentDeployed}}')
            }
        };

        valamisApp.execute('subapp:start', curriculumManagerOptions);

    });

</script>