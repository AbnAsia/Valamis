<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <meta content="text/html; charset=UTF-8" http-equiv="content-type">

    <link rel="stylesheet" href="css2.0/backbone.modal.css"/>
    <link rel="stylesheet" href="css2.0/backbone.modal.theme.css"/>
    <link rel="stylesheet" href="css2.0/bootstrap-timepicker.min.css"/>
    <link rel="stylesheet" href="preview-resources/common/jquery-ui-1.8.20.custom.css"/>
    <link rel="stylesheet" href="css2.0/reveal.min.css"/>
    <link rel="stylesheet" href="css2.0/toastr.css"/>
    <link rel="stylesheet" href="css2.0/selectize.css"/>
    <link rel="stylesheet" href="css2.0/video-js.min.css"/>
    <link rel="stylesheet" href="css2.0/katex.min.css"/>
    <link rel="stylesheet" href="css2.0/valamis.css"/>
    <link rel="stylesheet" href="css2.0/valamis_slides.css"/>
    <link rel="stylesheet" href="css2.0/theme/valamis_slides_theme.css"/>
    <link rel="stylesheet" href="preview-resources/common/player_tincan_content.css"/>
    <link rel="stylesheet" href="css2.0/colorpick.css"/>
    <link href='https://fonts.googleapis.com/css?family=Roboto:400,300,500' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Ubuntu:400,300,500' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,300italic,400,400italic,700,700italic' rel='stylesheet' type='text/css'>

    <script type="text/javascript">
        window.path = window.parent.path;
    </script>

    <script src="js2.0/vendor/jquery.min.js"></script>
    <script src="js2.0/vendor/selectize.min.js"></script>
    <script src="js2.0/helpers/valamis-jquery.js"></script>
    <script src="js2.0/vendor/jquery-ui-1.10.4.custom.min.js"></script>
    <script src="js2.0/vendor/lodash.min.js"></script>
    <script src="js2.0/vendor/backbone-min.js"></script>
    <script src="js2.0/vendor/backbone.model-binder.min.js"></script>
    <script src="js2.0/vendor/backbone.marionette.min.2.4.1.js"></script>
    <script src="js2.0/vendor/backbone.modal-bundled.1.1.3.js"></script>
    <script src="js2.0/vendor/bootstrap.min.js"></script>
    <script src="js2.0/vendor/bootstrap-timepicker.min.js"></script>

    <script src="js2.0/vendor/reveal.min.js"></script>
    <script src="js2.0/vendor/jquery.ui.widget.js"></script>
    <script src="js2.0/helpers/valamis-jq-plugins.js"></script>
    <script src="js2.0/vendor/jquery.fileupload.js"></script>

    <script src="js2.0/vendor/backbone.service.js"></script>
    <script src="js2.0/vendor/mustache.min.js"></script>
    <script src="js2.0/vendor/toastr.min.js"></script>
    <script src="js2.0/vendor/nested.js"></script>
    <script src="js2.0/vendor/ckeditor/ckeditor.js"></script>
    <script src="js2.0/vendor/nestedsortable.js"></script>
    <script src="js2.0/vendor/colorpicker.js"></script>
    <script src="js2.0/vendor/video.js"></script>
    <script src="js2.0/vendor/katex.min.js"></script>
    <script src="js2.0/vendor/three.min.js"></script>
    <script src="js2.0/vendor/TrackballControls.js"></script>
    <script src="js2.0/widgets/LiferayMediaGalleryDialog.js"></script>
    <script src="js2.0/widgets/valamisPaginator.js"></script>

    <script src="js2.0/lesson-studio/loadTemplates.js"></script>
    <script>
        window.lessonStudio = window.parent.lessonStudio;
        window.Valamis = window.parent.Valamis;
        window.valamisApp = window.parent.valamisApp;
        window.Liferay = window.parent.Liferay;
        Backbone.emulateJSON = true;
        syncTemplateLoader.syncLoadAndAppendTo$el('templates/2.0/lesson_studio_templates.html', jQueryValamis('head'));
        syncTemplateLoader.syncLoadAndAppendTo$el('templates/2.0/question_tree_templates.html', jQueryValamis('head'));
        syncTemplateLoader.syncLoadAndAppendTo$el('templates/2.0/lesson_designer_templates.html', jQueryValamis('head'));
        syncTemplateLoader.syncLoadAndAppendTo$el('templates/2.0/file_uploader.html', jQueryValamis('head'));
        syncTemplateLoader.syncLoadAndAppendTo$el('templates/2.0/paginator.html', jQueryValamis('head'));
        syncTemplateLoader.syncLoadAndAppendTo$el('templates/2.0/image_gallery_templates.html', jQueryValamis('head'));
        GLOBAL_translations = window.parent.GLOBAL_translations;
        GLOBAL_companyID = window.parent.GLOBAL_companyID;
        contentManagerActionUrl = lessonStudio.contentManagerActionUrl;

        function onGoogleClientAPIReady() {
            lessonStudio.googleClientApiReady = true;
        }
        function onYouTubeIframeAPIReady() {
            lessonStudio.youtubeIframeAPIReady = true;
        }
    </script>

    <script src="js2.0/common/marionette-utils.js"></script>
    <script src="js2.0/common/valamisViews.js"></script>
    <script src="js2.0/helpers/FormDataHelper.js"></script>
    <script src="js2.0/helpers/Utils.js"></script>
    <script src="js2.0/file-uploader/model/FileItem.js"></script>
    <script src="js2.0/file-uploader/view/FileUploader.js"></script>
    <script src="js2.0/helpers/elementQuery.js"></script>
    <script src="js2.0/question-manager/models/AnswerModel.js"></script>
    <script src="js2.0/question-manager/models/CategoryModel.js"></script>
    <script src="js2.0/question-manager/models/QuestionModel.js"></script>
    <script src="js2.0/question-manager/views/QuestionTreeView.js"></script>
    <script src="js2.0/lesson-studio/VideoView.js"></script>
    <script src="js2.0/lesson-studio/LiferayArticleView.js"></script>
    <script src="js2.0/lesson-studio/model-entities.js"></script>
    <script src="js2.0/lesson-studio/entities.js"></script>
    <script src="js2.0/lesson-studio/helper.js"></script>
    <script src="js2.0/lesson-studio/gapi-helper.js"></script>
    <script src="js2.0/lesson-studio/QuestionSelectView.js"></script>
    <script src="js2.0/lesson-studio/question-style-modal.js"></script>
    <script src="js2.0/lesson-studio/URIService.js"></script>
    <script src="js2.0/lesson-studio/undo.js"></script>
    <script src="js2.0/lesson-studio/main.js"></script>
    <script src="js2.0/lesson-studio/handlers.js"></script>
    <script src="js2.0/lesson-studio/reveal-controls-module.js"></script>
    <script src="js2.0/lesson-studio/reveal-module.js"></script>
    <script src="js2.0/lesson-studio/generic-item-module.js"></script>
    <script src="js2.0/lesson-studio/sidebar-module.js"></script>
    <script src="js2.0/lesson-studio/text-element.js"></script>
    <script src="js2.0/lesson-studio/img-element.js"></script>
    <script src="js2.0/lesson-studio/iframe-element.js"></script>
    <script src="js2.0/lesson-studio/content-element.js"></script>
    <script src="js2.0/lesson-studio/video-element.js"></script>
    <script src="js2.0/lesson-studio/pdf-element.js"></script>
    <script src="js2.0/lesson-studio/pptx-element.js"></script>
    <script src="js2.0/lesson-studio/math-element.js"></script>
    <script src="js2.0/lesson-studio/webgl-element.js"></script>
    <script src="js2.0/lesson-studio/arrange-module.js"></script>
    <script src="js2.0/lesson-studio/gridsnap-module.js"></script>
    <script src="https://apis.google.com/js/client.js?onload=onGoogleClientAPIReady"></script>
    <script src="https://www.youtube.com/iframe_api?onload=onYouTubeIframeAPIReady"></script>
</head>
<body>
    <meta content="text/html; charset=UTF-8" http-equiv="content-type">
    <div class="portlet-learn-scorm portlet-learn-scorm-slides">
        <div class="slides-editor-main-wrapper portlet">
            <div class="slides-editor-topbar js-slides-editor-topbar"></div>
            <div id="revealEditor">
                <div class="sidebar"></div>
                <div class="reveal-wrapper"></div>
                <div class="reveal-controls"></div>
                <div id="slides-modals-layout"></div>
            </div>
        </div>
    </div>
    <script type="text/javascript">
        jQueryValamis(window).load(function(){
            lessonStudio.execute('editor-iframe-loaded');
            initGAPISettings();
        });
        jQueryValamis(function(){
            window.resizeImage = function(width, height, maxWidth, maxHeight) {
                var ratio = width/height;
                var newWidth, newHeight;
                if(ratio > 1) {
                    if (width > maxWidth) {
                        newWidth = maxWidth;
                        newHeight = newWidth / ratio;
                    }
                    else {
                        newWidth = width;
                        newHeight = height;
                    }
                }
                else {
                    if(height > maxHeight) {
                        newHeight = maxHeight;
                        newWidth = newHeight * ratio;
                    }
                    else {
                        newWidth = width;
                        newHeight = height;
                    }
                }
                return {width: newWidth, height: newHeight};
            };
        });
    </script>
</body>
</html>