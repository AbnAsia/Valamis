<!DOCTYPE html>
<html lang="en">
<head>

    <link href="{{contextPath}}/css2.0/backbone.modal.css" rel="stylesheet">
    <link href="{{contextPath}}/css2.0/backbone.modal.theme.css" rel="stylesheet">

    <!--<link href="http://netdna.bootstrapcdn.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet">-->
    <!--<link href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">-->

    <link href="{{contextPath}}/css2.0/file-uploader.css" rel="stylesheet">
    <link href="{{contextPath}}/css2.0/jquery.fileupload.css" rel="stylesheet">

    <link href="{{contextPath}}/css2.0/content_manager/content_manager_compiled.css" rel="stylesheet">
    <link href="{{contextPath}}/css2.0/content_manager.css" rel="stylesheet">
    <!--<link href="{{contextPath}}/css2.0/certificates.css" rel="stylesheet" type="text/css"/>-->
    <link href="{{contextPath}}/css2.0/base.css" rel="stylesheet" type="text/css"/>
    <link href="{{contextPath}}/css2.0/structure.css" rel="stylesheet" type="text/css"/>
    <link href="{{contextPath}}/css2.0/style.css" rel="stylesheet" type="text/css"/>
    <link href="{{contextPath}}/css2.0/responsive.css" rel="stylesheet" type="text/css"/>
    <link href="{{contextPath}}/css2.0/formelements.css" rel="stylesheet" type="text/css"/>
    <link href="{{contextPath}}/css2.0/buttons.css" rel="stylesheet" type="text/css"/>
    <link href="{{contextPath}}/css2.0/popups.css" rel="stylesheet" type="text/css"/>
    <link href="{{contextPath}}/css2.0/responsive-bs.css" rel="stylesheet" type="text/css"/>
    <link href="{{contextPath}}/css2.0/tables.css" rel="stylesheet" type="text/css"/>
    <link href="{{contextPath}}/css2.0/flip.css" rel="stylesheet" type="text/css"/>
    <link href="{{contextPath}}/css2.0/toastr.css" rel="stylesheet" type="text/css"/>

    <script src="{{contextPath}}/js2.0/vendor/jquery.min.js"></script>
    <script src="{{contextPath}}/js2.0/vendor/jquery-ui-1.10.4.custom.min.js"></script>
    <script src="{{contextPath}}/js2.0/vendor/lodash.min.js"></script>
    <script src="{{contextPath}}/js2.0/vendor/backbone-min.js"></script>
    <script src="{{contextPath}}/js2.0/vendor/mustache.min.js"></script>
    <script src="{{contextPath}}/js2.0/vendor/backbone.marionette.min.js"></script>
    <script src="{{contextPath}}/js2.0/vendor/backbone.modal-bundled.js"></script>
    <script src="{{contextPath}}/js2.0/vendor/backbone.service.js"></script>
    <script src="{{contextPath}}/js2.0/vendor/bootstrap.min.js"></script>
    <script src="{{contextPath}}/js2.0/vendor/toastr.min.js"></script>
    <script src="{{contextPath}}/js2.0/helpers/utils.js"></script>
    <script src="{{contextPath}}/js2.0/vendor/backbone.model-binder.min.js"></script>

    <script src="{{contextPath}}/js2.0/file-upload.js"></script>
    <script src="{{contextPath}}/js2.0/jquery.fileupload.js"></script>

    <script src="{{contextPath}}/js2.0/widgets/valamisPaginator.js"></script>
    <script src="{{contextPath}}/js2.0/widgets/DeleteConfirmationView.js"></script>
    <script src="{{contextPath}}/js2.0/helpers/utils.js"></script>

    <script src="{{contextPath}}/js2.0/questionMain.js"></script>
    <script src="{{contextPath}}/js2.0/quiz.js"></script>
    <script src="{{contextPath}}/js2.0/helpers/settings-helper.js"></script>
</head>
<body>
<div class="learn-portlet content-manager"></div>

<input type="hidden" id="courseID" value="{{courseID}}"/>
<input type="hidden" id="SCORMContextPath" value="{{contextPath}}"/>
</body>

<script>
    var quizSettings = new SettingsHelper({url: window.location.href, portlet: 'quiz'});
    quizSettings.fetch();

    Backbone.Marionette.TemplateCache.prototype.compileTemplate = function (rawTemplate) {
        return Mustache.compile(rawTemplate);
    };
    Backbone.emulateJSON = true;
    var contentManagerActionUrl = '{{{actionURL}}}';
    var contentManagerEvent = new Backbone.Wreqr.EventAggregator();
    contentManagerEvent.on('lesson:created', function (lessonModelId) {
        contentManagerView.model.fetch()
    });

    var contentManagerView = new ContentManager({el: $('.content-manager')});
    contentManagerView.on('all', function (name) {

    });

    var contentManagerModals = new ModalContainer();
    $('body').append(contentManagerModals.render().el);
</script>
</html>