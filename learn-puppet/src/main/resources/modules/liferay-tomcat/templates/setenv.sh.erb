# file managed by puppet

#
# Do not edit this file, please modify setenv-local.sh instead
#

# 
# JVM tuning parameters
#

<% if has_variable?("classpath") %>
# force catalina.sh to use the common library in CATALINA_HOME and not CATALINA_BASE
# this is required to run tomcat on RHEL6 (Santiago)
export CLASSPATH=<%= classpath %>
<% end %>

DSUN_JAVA2D_OPENGL="false"
DJAVA_AWT_HEADLESS="true"
JAVA_XMX="2048m"
JAVA_XX_MAXPERMSIZE="512m"

export DSUN_JAVA2D_OPENGL
export DJAVA_AWT_HEADLESS
export JAVA_XMX
export JAVA_XX_MAXPERMSIZE

<% setenv.each do |env| -%>
<%= env %>
export <%= env.split('=')[0] -%>
<% end %>

. $CATALINA_BASE/bin/setenv-local.sh

JAVA_OPTS="$JAVA_OPTS -Dsun.java2d.opengl=${DSUN_JAVA2D_OPENGL} \
                  -Djava.awt.headless=${DJAVA_AWT_HEADLESS} \
                  -Xmx${JAVA_XMX} \
                  -XX:MaxPermSize=${JAVA_XX_MAXPERMSIZE} \
                  ${ADD_JAVA_OPTS} \
                  -Dfile.encoding=UTF8 -Duser.timezone=GMT "

export JAVA_OPTS
